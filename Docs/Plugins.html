<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD><title>FilWip - Documentation</title></HEAD>

<BODY BGCOLOR=white LINK=#1968BC>

<FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>
<CENTER><IMG SRC="images/logo.png">
</CENTER>

<TABLE CELLPADDING=0 CELLSPACING=0 BGCOLOR=black WIDTH=100%>
<TR><TD ALIGN="left">
	<TABLE WIDTH=100% CELLPADDING=0 CELLSPACING=1 BORDER=0>
	<TR><TD BGCOLOR=#F0F8FF>
		<TABLE WIDTH=100% CELLPADDING=3 CELLSPACING=0>
		<TR><TD ALIGN="left"><B><FONT FACE="Verdana, Arial, Helvetica, sans-serif" COLOR=#1968CD SIZE=3>&nbsp;&nbsp;Plugins</FONT></B></TD>
		<TD ALIGN="right"></TD></TR>
		</TABLE>
	</TD></TR>
	</TABLE>
</TD></TR>
</TABLE>

<P>Plugins are what makes FilWip a versatile and flexible app. Plugins (as far as FilWip is concerned) are a way of specifying what files to monitor and delete. They are simple text files, written in a particular format understandable by FilWip, that specify the locations to clean.</P>

<P>You get a set of standard plugins with FilWip. You can edit these plugins to suit your system, but mostly you won't need to. You'll find the plugins at <TT>~/config/settings/FilWip/Plugins/</TT>. Some of the standard plugins include: WebPositive files, Trashed items, Custom Query files, Temporary files, Bash history file etc.</P>

<P>Before we proceed explaining the format specs for the plugin, here are two sample plugins. Just read through them once and read the explanation below.</P>

<P>Here is a hierarchical plugin - meaning you can "expand" the plugin and it will have sub-items. Here is how the <I><FONT SIZE=2 FACE=Helvetica COLOR=#991122>WebPositive</FONT></I> plugin looks: </P>

<CENTER><TABLE BGCOLOR=#F5F5F5 BORDER="0" WIDTH=80% CELLSPACING="5"> 
<TR> <TD WIDTH=45%><PRE>;; NetPositive plugin

[WebPositive]
TYPE=hierarchical
CHECK INSTALL OF=/boot/home/config/settings/WebPositive

[Cache]
FOLDER=/boot/home/config/settings/WebPositive/NetCache
EXCLUDE FILE=Cookies
RECURSE=

[Cookies]
FILE=/boot/home/config/settings/WebPositive/Cookies
EXCLUDE FILE=
RECURSE=

[History]
FILE=/boot/home/config/settings/WebPositive/BrowsingHistory
EXCLUDE FILE=
RECURSE=

[Site icons]
FILE=/boot/home/config/settings/WebPositive/WebpageIcons.db
EXCLUDE FILE=
RECURSE=
</PRE></TR>
</TABLE></CENTER>

<P>Here is a linear plugin - meaning it does not have any sub-items and can clean only one location. Here is how the <I><FONT SIZE=2 FACE=Helvetica COLOR=#991122>Custom queries</FONT></I> plugin looks: </P>

<CENTER><TABLE BGCOLOR=#F5F5F5 BORDER="0" WIDTH=80% CELLSPACING="5"> 
<TR> <TD WIDTH=45%><PRE>;; Custom queries plugin

[Custom queries]
TYPE=linear
CHECK INSTALL OF=

[Custom queries]
FOLDER=/boot/home/queries
INCLUDE MIME=application/x-vnd.Be-query
RECURSE=
</PRE></TR>
</TABLE></CENTER>

<P>&nbsp;</P>

<TABLE CELLPADDING=0 CELLSPACING=0 BGCOLOR=black WIDTH=100%>
<TR><TD ALIGN="left">
	<TABLE WIDTH=100% CELLPADDING=0 CELLSPACING=1 BORDER=0>
	<TR><TD BGCOLOR=#F0F8FF>
		<TABLE WIDTH=100% CELLPADDING=3 CELLSPACING=0>
		<TR><TD ALIGN="left"><B><FONT FACE="Verdana, Arial, Helvetica, sans-serif" COLOR=#1968CD SIZE=3>&nbsp;&nbsp;Key</FONT></B></TD>
		<TD ALIGN="right"></TD></TR>
		</TABLE>
	</TD></TR>
	</TABLE>
</TD></TR>
</TABLE>

<P>Below is given a table the various elements in a FilWip plugin. Following it, each element is explained in detail.</P>

<TABLE WIDTH=100%>
<TR>
<TD WIDTH><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>TYPE</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Required)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>The type of plugin, whether linear or hierarchial</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>CHECK INSTALL OF</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Optional)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>This path must exist, or else the plugin will not be loaded</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>FOLDER</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(N/A)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>The location to delete. Either FILE=&lt;file&gt; or FOLDER=&lt;dir&gt;</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>EXCLUDE FILE</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Optional)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>A file to exclude in the folder being targetted. EXCLUDE FILE=&lt;filename&gt;</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>INCLUDE MIME</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Optional)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>Files of this type only are touched, INCLUDE MIME=&lt;mime-type&gt;</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>RECURSE</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Optional)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>Whether FilWip must touch sub-folders and files.</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>;;</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(N/A)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>Comments - these are skipped</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>[Custom queries]</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Required)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>Plugin name used in Presets internally, not shown otherwise</TD>
</TR>

<TR>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>[Custom queries]</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>(Required)</TD>
<TD><FONT FACE="Verdana, Arial, Helvetica, sans-serif" SIZE=2>A description. Shown in the checkboxes/treeview.</TD>
</TR>

</TABLE>
</P>

<P>Let's go from top to bottom, explaining each unique line in the plugin format:</P>

<P><B><FONT SIZE=2>;; Comment!</FONT></B><BR>Lines beginning with a double semicolon are considered comments and are skipped. You can use them only at the beginning of a plugin i.e., until the name of the plugin is specified.</P>

<P><B><FONT SIZE=2>[Name]</FONT></B><BR>
Lines enclosed within "[" and "]" are considered to contain names for each item. In case the TYPE of the plugin is hierarchical, this name will be used as label for the expandable treeview. This is what you will see in FilWip for hierarchical plugins. For linear items this name will be displayed. The next name section following it will not be used.</P>

<P><B><FONT SIZE=2>TYPE=</FONT></B>linear<BR>
<B><FONT SIZE=2>TYPE=</FONT></B>hierarchical<BR>
A very important clause. This clause specifies if the plugin has sub-items or not. TYPE must be either "linear" or "hierarchical". Careful you don't misspell it and you cannot leave it blank.</P>

<A NAME="CheckInstall"></A>
<P><B><FONT SIZE=2>CHECK INSTALL OF=</FONT></B>[&lt;path&gt;]<BR>
This clause allows you to stop loading the plugin if a certain file or folder does not exist. For example, the <I><FONT SIZE=2 FACE=Helvetica COLOR=#991122>QupZilla</FONT></I> plugin checks for a path (in the settings folder) to confirm if QupZilla really exists. If it doesn't, the plugin will not be loaded. You can leave this blank, meaning no checks are performed.<BR>
For example, Trash has a blank field here since Haiku is assumed to have a Trash location.</P>

<P><B><FONT SIZE=2>FOLDER=</FONT></B>&lt;path&gt;<BR>
<B><FONT SIZE=2>FILE=</FONT></B>&lt;path&gt;<BR>
This clause specifies either a folder or file to clean. The path must be the full absolute path. A safety check is performed so that no system critical folders/files are destroyed. For example, you can't specify <I><FONT FACE=Helvetica SIZE=2>/boot/home</FONT></I> as it is critical to the system.</P>

<P>Also, you cannot specify both FOLDER and FILE clauses for the same plugin item. It's either FILE or FOLDER. See the example plugins above.</P>

<P><B><FONT SIZE=2>EXCLUDE FILE=</FONT></B>[&lt;filename&gt;]<BR><B><FONT SIZE=2>INCLUDE MIME=</FONT></B>[&lt;mime-type&gt;]<BR>
The EXCLUDE FILE clause allows you to exclude a file (by name) from the list of files in a folder. This will apply only if a folder is specified. A blank field is allowed meaning no files are left out.</P>

<P>The INCLUDE MIME clause specifies that only files with the specified mime-type (like "application/x-vnd.Be-query") should be deleted. For example, if you want to clean only .html from a folder but no other file-types like .gif etc., you can INCLUDE MIME=text/x-html. Blank field here is allowed meaning file-types aren't checked for the given scope of files.</P>

<P>You cannot specify both EXCLUDE FILE and INCLUDE MIME in the same plugin item.</P>

<P><B><FONT SIZE=2>RECURSE=</FONT></B>[&lt;yes&gt;]<BR>
<A NAME="Recurse"></A>
The RECURSE clause allows folder entries to recursively target all sub-folders. To delete all sub-folders and files, you must specify RECURSE=yes. Leaving it blank specifies that no recursion will take place, meaning sub-folders (and files within sub-folders) will not be touched. Obviously, this applies only to plugin-items that target a folder.</P>

<BR>
<TABLE CELLPADDING=0 CELLSPACING=0 BGCOLOR=black WIDTH=100%>
<TR><TD ALIGN="left">
	<TABLE WIDTH=100% CELLPADDING=0 CELLSPACING=1 BORDER=0>
	<TR><TD BGCOLOR=#F0F8FF>
		<TABLE WIDTH=100% CELLPADDING=3 CELLSPACING=0>
		<A NAME="Overview"></A>
		<TR><TD ALIGN="left"><B><FONT FACE="Verdana, Arial, Helvetica, sans-serif" COLOR=#1968CD SIZE=3>&nbsp;&nbsp;More Info</FONT></B></TD>
		<TD ALIGN="right"></TD></TR>
		</TABLE>
	</TD></TR>
	</TABLE></TD>
</TR></TABLE>
<P>
Plugins as of now are 'delicate' structures in FilWip, error detection is minimal. So please make sure you write/modify your plugins very, very carefully. Make sure you don't leave extra line-breaks, don't leave extra spaces, don't misspell words. The best way to go about writing a plugin is to copy and paste an existing plugin to a file and edit and modify it carefully.
</P>

<P>Plugins are not case-sensitive, i.e. "FOLDER=" is same as "folder=". I wrote them in capitals as it looks much neater and error detection is easier. But remember, the paths in Haiku ARE case-sensitive, e.g.: <I><FONT FACE=Helvetica SIZE=2>/boot/home/Programs<FONT></I> is not the same as <I><FONT FACE=Helvetica SIZE=2>/boot/home/programs</FONT></I>.</P>

<BR>
<TABLE CELLPADDING=0 CELLSPACING=0 BGCOLOR=black WIDTH=100%>
<TR><TD ALIGN="left">
	<TABLE WIDTH=100% CELLPADDING=0 CELLSPACING=1 BORDER=0>
	<TR><TD BGCOLOR=#F0F8FF>
		<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=0>
		<TR><TD ALIGN="right"><B><FONT FACE="Humanst777 BT, Swis721 BT, Arial, sans-serif" COLOR=#1968CD SIZE=1>&nbsp;&nbsp;<A HREF="HowToUse.html">How To Use</A> | <A HREF="LegalInfo.html">License</A></FONT></B></TD>
		<TD ALIGN="right"></TD></TR>
		</TABLE>
	</TD></TR>
	</TABLE>
</TD></TR>
</TABLE>

<P ALIGN="center">
<IMG SRC="images/flower.gif"></P>

</TD>
</TABLE>

</FONT>
</BODY>
</HTML>
